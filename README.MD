GCBase version 0.01 a.
=============
Описание логики и класса js, реализующие систему оперативного хранения данных в структуре, похожей на SQL-базу данных.
Основные возможности: перекрёстные ссылки на таблицы, поиск и фильтрация таблиц, хранение данных в local storage.


Specification
=============

Database main object description
-------------
Основной объект базы данных содержит специальный ключ:
__data, являющийся обязательным.
Остальные ключи в основном объекте — таблицы БД.

Ключ __data содержит объект, который описывает базу данных: 
имя, версия краткое описание. Все — текст.

```javascript
__data: {
	name: "myBase",
	version: "1.0",
	description: "A little db for some practice"
}
```

Tables description
------------------
Таблица — объект, содержащий специальный ключ __captions, 
являющийся обязательным, в объекте по этому ключу 
описывается каждое поле таблицы: его тип и доп. информация,
нужная для работы с полем. Также таблица содержит обязательный
ключ rows, с массивом объектов — данные таблицы.
Если таблица пуста, содержит пустой массив.

```javascript
mygoods: {
	__captions: {
		id: {
			type: "auto",
			format: "integer",
			next: 1
		},
		
		name: {
			type: "text",
			format: "string"
		}
	}
	
	rows: [
		{id: 0, name: "Холодильная камера"}
	]
}
```
### Keys formats description

#### type: auto

Поле с автоинкрементом по добавлению записи.
Обязательные поля:
* **format** (в текущей версии всегда равен "integer")
* **next:** ***integer*** следующее значение для поля.
* **uniq:** true

Все описания полей заполняются автоматически.
Нумерация всегда начинается с нуля, это не настраивается.

#### type: link
Ссылка на запись или поле записи в другой таблице.

Обязательные поля
* **data:** all | colname1,colname2 |colname 
(вся запись целиком | набор полей из записи | значение одного поля записи)
* **to:** tablename~colname

Если link указывает на поле с атрибутом uniq: true, программа будет
возвращать по ссылке одну запись (объект). В другом случае,
вернет массив объектов, совпавших со значением colname параметра to.

Не может содержать uniq

#### type: qlink
Обязательные поля
* **to:** tablename~colname
* **data:** colname
* **format**: скопирует формат поля по ссылке, если есть, иначе текст.
Копирует фактическое значение по адресу из to, не следует по ссылкам.

Не может содержать uniq

#### type: text
обязательные поля: нет.
Автоматически устанавливается 
```javascript
format: string
```

Возможные поля:
* **uniq:** true | false.

#### type: date
Обязательные поля:
* **format:** {} описание формата в нотации js Date
не может содержать uniq.

#### type: formula
#### type: flag
#### type: integer
#### type: float

Description of mechanics GCBase class
================


Userguide for GCBase class
================
Далее считаем basе экземпляром класса GCBase.

Создание БД
------------
Если при создании экземпляра, конструктору передаётся объект с ключами, характерными для заголовка БД, будет создана пустая
БД с использованием этой информации.

```javascript
let base = new GCBase( {name: "customersBase", version: "0.1a", description: "База данных продуктов, клиентов и покупок"});
```
Если конструктор получает строку, он считает, что получена стрингифицированная БД. Строка парсится с помощью JSON.parse и использованием
вспомогательных функций {insert names here later} для приведения содержимого ключей к нужному формату и проверки валидности.

Создание БД методами экземпляра GCBase не предусмотрено.

Создание таблицы
-----------------
```javascript
base.add("customers", { 
	id: {
		type: "auto"
	},
	
	FIO: {
		type: "text"
    }
);
```
Метод экземпляра add принимает объект, описывающий столбцы (поля) таблицы, с указанием обязательных элементов
описания, значение который не выставляется автоматически (см. "Keys formats description").
